<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Dashboard - Smart School</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
 <link rel="stylesheet" href="teacher-dashboard.css">
 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
 <script src="../js/toast.js"></script>
 <script src="../js/searchable-select.js"></script>
</head>

<body>
    <nav class="top-nav">
        <div class="nav-content">
            <div class="logo">
                <div class="logo-icon">SS</div>
                <span>Smart School</span>
            </div>
            <div class="nav-actions">
                <button class="icon-btn notification-btn" id="notificationBtn" onclick="showNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">0</span>
                </button>
                <a class="btn btn-secondary" href="year-schedule.html">
                    <i class="fas fa-calendar-alt"></i> Year Schedule
                </a>
                <a class="btn btn-secondary" href="teacher-publishAnnouncment.html">
                    <i class="fas fa-bullhorn"></i> Create Content
                </a>
                  <a class="btn btn-secondary" href="teacher-attendance.html">
                    <i class="fas fa-clipboard-check"></i> Attendance
                </a>
                <a class="btn btn-secondary" href="viewAnnouncment.html">
                    <i class="fas fa-list"></i> My Content
                </a>
                <button class="btn btn-primary" id="logout">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1><i class="fas fa-chalkboard-teacher"></i> Teacher Dashboard</h1>
            <p id="welcomeMessage">Loading...</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card stat-clickable" data-stat="totalClasses">
                <div class="stat-header">
                    <div class="stat-icon"><i class="fas fa-calendar-check"></i></div>
                    <div class="stat-click-hint"><i class="fas fa-chevron-right"></i></div>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="totalClasses">-</div>
                    <div class="stat-label">Total Classes</div>
                </div>
            </div>
            <div class="stat-card stat-clickable" data-stat="totalStudents">
                <div class="stat-header">
                    <div class="stat-icon"><i class="fas fa-user-graduate"></i></div>
                    <div class="stat-click-hint"><i class="fas fa-chevron-right"></i></div>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="totalStudents">-</div>
                    <div class="stat-label">Total Students</div>
                </div>
            </div>
            <div class="stat-card stat-clickable" data-stat="classesToday">
                <div class="stat-header">
                    <div class="stat-icon"><i class="fas fa-clock"></i></div>
                    <div class="stat-click-hint"><i class="fas fa-chevron-right"></i></div>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="todayClasses">-</div>
                    <div class="stat-label">Classes Today</div>
                </div>
            </div>
            <div class="stat-card stat-clickable" data-stat="subjects">
                <div class="stat-header">
                    <div class="stat-icon"><i class="fas fa-book"></i></div>
                    <div class="stat-click-hint"><i class="fas fa-chevron-right"></i></div>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="subjects">-</div>
                    <div class="stat-label">Subjects Teaching</div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-row">
            <div class="chart-card">
                <div class="chart-card-header">
                    <i class="fas fa-user-graduate"></i>
                    <h3>Students by Section</h3>
                </div>
                <div class="chart-card-body">
                    <canvas id="studentsByGradeChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-card-header">
                    <i class="fas fa-clipboard-check"></i>
                    <h3>Attendance Overview</h3>
                </div>
                <div class="chart-card-body">
                    <canvas id="attendanceChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-card-header">
                    <i class="fas fa-calendar-week"></i>
                    <h3>Classes per Day</h3>
                </div>
                <div class="chart-card-body">
                    <canvas id="classesPerDayChart"></canvas>
                </div>
            </div>
        </div>

        <div class="summary-section">
            <div class="summary-header">
                <div class="summary-header-icon">
                    <i class="fas fa-calendar-day"></i>
                </div>
                <h2>Today's Summary</h2>
                <span class="summary-date" id="todayDate"></span>
            </div>
            <div class="summary-grid">
                <div class="summary-card classes">
                    <div class="summary-card-header">
                        <div class="summary-card-icon">
                            <i class="fas fa-chalkboard"></i>
                        </div>
                        <div class="summary-card-title">Classes</div>
                        <div class="summary-card-count" id="todayClassesCount">0</div>
                    </div>
                    <div class="summary-items" id="todayClassesList">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading...</p>
                        </div>
                    </div>
                </div>

                <div class="summary-card assignments">
                    <div class="summary-card-header">
                        <div class="summary-card-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="summary-card-title">Assignments Due</div>
                        <div class="summary-card-count" id="todayAssignmentsCount">0</div>
                    </div>
                    <div class="summary-items" id="todayAssignmentsList">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading...</p>
                        </div>
                    </div>
                </div>

                <div class="summary-card announcements">
                    <div class="summary-card-header">
                        <div class="summary-card-icon">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <div class="summary-card-title">Recent Posts</div>
                        <div class="summary-card-count" id="recentAnnouncementsCount">0</div>
                    </div>
                    <div class="summary-items" id="recentAnnouncementsList">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-calendar-alt"></i> My Schedule by Subject</h3>
            </div>
            <div class="schedule-filters">
                <div class="filter-group">
                    <label><i class="fas fa-graduation-cap"></i> Grade</label>
                    <select id="gradeFilter" title="Filter by grade" onchange="applyScheduleFilters()">
                        <option value="">All Grades</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-layer-group"></i> Section</label>
                    <select id="sectionFilter" title="Filter by section" onchange="applyScheduleFilters()">
                        <option value="">All Sections</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-calendar-day"></i> Day</label>
                    <select id="dayFilter" title="Filter by day" onchange="applyScheduleFilters()">
                        <option value="">All Days</option>
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                    </select>
                </div>
                <button class="filter-reset-btn" onclick="resetScheduleFilters()">
                    <i class="fas fa-undo"></i> Reset
                </button>
            </div>
            <div id="scheduleContainer" class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading schedule...</p>
            </div>
        </div>
    </div>

    <!-- Stat Detail Modal -->
    <div id="statDetailModal" class="stat-detail-overlay hidden-modal">
        <div class="stat-detail-modal">
            <div class="stat-detail-header">
                <div class="stat-detail-title">
                    <div class="stat-detail-icon" id="statDetailIcon"><i class="fas fa-list"></i></div>
                    <div>
                        <h3 id="statDetailTitle">Details</h3>
                        <p id="statDetailSubtitle"></p>
                    </div>
                </div>
                <button class="student-modal-close" title="Close" onclick="closeStatDetail()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="stat-detail-search hidden-modal" id="statDetailSearchWrap">
                <i class="fas fa-search"></i>
                <input type="text" id="statDetailSearch" placeholder="Search..." oninput="filterStatDetail()">
            </div>
            <div class="stat-detail-filters hidden-modal" id="statDetailFiltersWrap">
                <div class="filter-group">
                    <label for="statGradeFilter">Grade</label>
                    <select id="statGradeFilter" onchange="filterStatDetail()">
                        <option value="">All Grades</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="statSectionFilter">Section</label>
                    <select id="statSectionFilter" onchange="filterStatDetail()">
                        <option value="">All Sections</option>
                    </select>
                </div>
            </div>
            <div class="stat-detail-body" id="statDetailBody">
            </div>
        </div>
    </div>

    <!-- Student List Modal -->
    <div id="studentListModal" class="student-modal-overlay hidden-modal">
        <div class="student-modal">
            <div class="student-modal-header">
                <div class="student-modal-title">
                    <h3 id="modalTitle">Students</h3>
                    <p id="modalSubtitle"></p>
                </div>
                <button class="student-modal-close" title="Close" onclick="closeStudentModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="student-modal-search">
                <i class="fas fa-search"></i>
                <input type="text" id="studentSearchInput" placeholder="Search students..." oninput="filterStudentList()">
            </div>
            <div class="student-modal-count" id="modalStudentCount"></div>
            <div class="student-modal-body" id="studentListContainer">
            </div>
        </div>
    </div>

    <script src="teacher-dashboard.js">
       
    </script>
</body>
</html>